<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simple Splitwise App</title>
  <!-- Google Fonts for modern typography -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lz-string/1.4.4/lz-string.min.js"></script>
</head>

<body>
  <!-- Header -->
  <header>
    <div class="header-container">
      <h1>Splitwise App</h1>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <div class="container">
      <!-- Clear Database -->
      <div class="clear-db-container">
        <button id="clear-db" type="button" class="danger-button" onclick="clearDatabase();">
          Clear All Data
        </button>
        <button id="share-db" type="button" class="primary-button">
          Share Data
        </button>
      </div>

      <!-- Modal for share link and warnings -->
      <div id="share-modal" class="modal hidden">
        <div class="modal-content">
          <span class="close" id="share-close">&times;</span>
          <h3>Shareable Link</h3>
          <textarea id="share-link" readonly></textarea>
          <div id="share-error" class="error-message"></div>
        </div>
      </div>

      <!-- Person Form -->
      <section id="person-section">
        <form id="person-form">
          <input type="text" id="person-name" placeholder="Enter name" required>
          <button type="submit" class="primary-button">Add Person</button>
        </form>
      </section>

      <!-- Expense Form -->
      <section id="expense-section">
        <form id="expense-form">
          <div class="form-group">
            <input type="text" id="expense-name" placeholder="Expense Name" required>
          </div>
          <div class="form-group">
            <input type="number" id="amount" placeholder="Amount" required>
            <span class="input-label">Paid by</span>
            <select id="person-select" required></select>
          </div>
          <div class="form-group">
            <label for="split-with">Split with:</label>
            <select id="split-with" multiple required></select>
          </div>
          <div class="form-group">
            <label for="split-type">Split Type:</label>
            <select id="split-type" required>
              <option value="equal">Equal Split</option>
              <option value="exact">Exact Amounts</option>
              <option value="percentage">Percentage Split</option>
              <option value="shares">Share Split</option>
            </select>
          </div>
          <div id="split-details-container"></div>
          <div class="form-group">
            <button type="submit" class="primary-button">Add Expense</button>
          </div>
        </form>
      </section>

      <!-- Expenses List -->
      <section id="expenses-list-section">
        <h2>Expenses</h2>
        <ul id="expense-list"></ul>
      </section>

      <!-- Balances List -->
      <section id="balances-section">
        <h2>Balances</h2>
        <ul id="owes-list"></ul>
      </section>

      <!-- Person Shares List (moved here) -->
      <section id="person-shares-section">
        <h2>Expense Summary</h2>
        <div class="card" id="person-shares-list"></div>
      </section>

      <!-- Simplified Debts Section -->
      <section id="simplified-debts-section">
        <h2>Simplified Debts</h2>
        <button id="simplify-debts" type="button" class="primary-button">Simplify Debts</button>
        <ul id="simplified-owes-list"></ul>
      </section>
    </div>
  </main>

  <script src="script.js"></script>
</body>

</html>